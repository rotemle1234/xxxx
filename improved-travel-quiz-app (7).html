<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>砖  砖</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        #app {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            max-width: 500px;
            width: 100%;
        }
        .screen {
            display: none;
        }
        .active {
            display: block;
        }
        .option {
            background-color: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            margin: 10px 0;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .option:hover, .option.selected {
            background-color: #e0e0e0;
        }
        #progress {
            height: 10px;
            background-color: #4CAF50;
            width: 0%;
            transition: width 0.5s;
        }
        .cta-button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }
        .cta-button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <div id="app">
        <div id="lobby" class="screen active">
            <h1>专  砖  砖! 锔</h1>
            <button class="cta-button" onclick="startQuiz()">转 砖</button>
        </div>

        <div id="quiz" class="screen">
            <div id="progress"></div>
            <div id="question">
                <h2 id="questionText"></h2>
                <div id="options"></div>
            </div>
            <button class="cta-button" onclick="nextQuestion()"></button>
        </div>

        <div id="results" class="screen">
            <h1>转爪转 砖! </h1>
            <div id="recommendations">
                <h2>注 抓 注专:</h2>
                <div id="destination">
                    <h3 id="destinationName"></h3>
                    <img id="destinationImage" alt="转转 注" style="max-width: 100%; height: auto;">
                    <a id="destinationLink" class="cta-button" target="_blank">抓  专 </a>
                </div>
                <div id="attractions">
                    <h3>专拽爪转 爪转:</h3>
                    <ul id="attractionsList"></ul>
                </div>
            </div>
            <button class="cta-button" onclick="restartQuiz()">转 砖</button>
        </div>
    </div>

    <script>
        const questions = [
            {
                question: " 住 驻砖 注祝 注?",
                options: ["驻砖 拽转", "驻砖 专注", "驻砖 转专转转", "驻砖转 "]
            },
            {
                question: " 祝 转 注祝?",
                options: ["", "专", "注专", "驻专"]
            },
            {
                question: " 驻专专 转 注专?",
                options: [" ", "注", "拽专专", "拽专"]
            },
            {
                question: " 注驻转  砖?",
                options: [" 拽专", "爪专", "住", "拽驻"]
            },
            {
                question: "  转 转 ?",
                options: ["住驻\"砖", "砖注", "砖注", "砖 注"]
            },
            {
                question: " 砖转 注转 转 转专?",
                options: ["专驻", "住", "专拽", "驻专拽"]
            },
            {
                question: " 砖  转专 驻砖?",
                options: ["专拽爪转", "", "拽转", "注"]
            },
            {
                question: " 住 砖  转 注祝?",
                options: [" 转", "住转", "专拽", "驻专拽"]
            },
            {
                question: " 住 拽  注?",
                options: ["拽住", "'", "驻驻", "转"]
            },
            {
                question: " 住 砖 驻注转 住驻专转 转 注祝?",
                options: ["", "砖", "驻住", "专 注 驻"]
            }
        ];

        const destinations = [
            {
                name: "专爪, 住驻专",
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8d/Sagrada_Familia_01.jpg/640px-Sagrada_Familia_01.jpg",
                link: "https://www.expedia.com/Hotel-Search?destination=Barcelona",
                attractions: ["住专 驻", "驻专拽 ", " 专"],
                tags: ["注专", "", "转专转", "", "专驻", "", "拽", " 转", "拽住", ""]
            },
            {
                name: "拽, 驻",
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b2/Skyscrapers_of_Shinjuku_2009_January.jpg/640px-Skyscrapers_of_Shinjuku_2009_January.jpg",
                link: "https://www.expedia.com/Hotel-Search?destination=Tokyo",
                attractions: ["拽砖 住住-'", " 拽", "砖 拽专住"],
                tags: ["注专", "转专转", "", "住", "", "拽转", "住转", "驻驻", "专 注 驻"]
            },
            {
                name: " 专拽, 专\"",
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7a/View_of_Empire_State_Building_from_Rockefeller_Center_New_York_City_dllu_%28cropped%29.jpg/640px-View_of_Empire_State_Building_from_Rockefeller_Center_New_York_City_dllu_%28cropped%29.jpg",
                link: "https://www.expedia.com/Hotel-Search?destination=New%20York",
                attractions: ["住专 驻专拽", "驻住 专转", "住 住拽专"],
                tags: ["注专", "转专转", "拽转", "专拽", "拽", "", "专拽", "'", ""]
            },
            {
                name: "拽拽, 转",
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/a/af/Bangkok_Montage_2021.jpg/640px-Bangkok_Montage_2021.jpg",
                link: "https://www.expedia.com/Hotel-Search?destination=Bangkok",
                attractions: ["专 ", " 驻", "爪'爪'拽 专拽"],
                tags: ["注专", "转专转", "", "住", "", "拽砖", "住转", "转", ""]
            },
            {
                name: "拽驻, 专 驻专拽",
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/Panorama_of_Cape_Town.jpg/640px-Panorama_of_Cape_Town.jpg",
                link: "https://www.expedia.com/Hotel-Search?destination=Cape%20Town",
                attractions: ["专 砖", "祝 转拽 ", "专 "],
                tags: ["注专", "", "注", "驻专拽", "注", "拽", "驻专拽", "转", "驻住"]
            }
        ];

        let currentQuestion = 0;
        let answers = [];

        function startQuiz() {
            document.getElementById('lobby').classList.remove('active');
            document.getElementById('quiz').classList.add('active');
            showQuestion();
        }

        function showQuestion() {
            const questionData = questions[currentQuestion];
            document.getElementById('questionText').textContent = questionData.question;
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';
            questionData.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.classList.add('option');
                optionElement.textContent = option;
                optionElement.onclick = () => selectOption(index);
                optionsContainer.appendChild(optionElement);
            });
            updateProgress();
        }

        function selectOption(index) {
            const options = document.querySelectorAll('.option');
            options.forEach(option => option.classList.remove('selected'));
            options[index].classList.add('selected');
        }

        function nextQuestion() {
            const selectedOption = document.querySelector('.option.selected');
            if (!selectedOption) {
                alert(' 专 转砖 驻 砖转砖');
                return;
            }
            answers.push(selectedOption.textContent);
            currentQuestion++;
            if (currentQuestion < questions.length) {
                showQuestion();
            } else {
                showResults();
            }
        }

        function updateProgress() {
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progress').style.width = `${progress}%`;
        }

        function determineDestination() {
            let scores = destinations.map(() => 0);
            answers.forEach((answer, index) => {
                destinations.forEach((destination, destIndex) => {
                    if (destination.tags.includes(answer.toLowerCase())) {
                        scores[destIndex] += 1;
                    }
                    // Add more weight to continent preference
                    if (index === 5 && destination.tags.includes(answer.toLowerCase())) {
                        scores[destIndex] += 2;
                    }
                });
            });
            
            let maxScore = Math.max(...scores);
            let maxIndices = scores.reduce((acc, score, index) => {
                if (score === maxScore) {
                    acc.push(index);
                }
                return acc;
            }, []);
            
            // Randomly select one of the destinations with the highest score
            let randomIndex = Math.floor(Math.random() * maxIndices.length);
            return destinations[maxIndices[randomIndex]];
        }

        function showResults() {
            document.getElementById('quiz').classList.remove('active');
            document.getElementById('results').classList.add('active');
            const destination = determineDestination();
            document.getElementById('destinationName').textContent = destination.name;
            document.getElementById('destinationImage').src = destination.image;
            document.getElementById('destinationLink').href = destination.link;
            const attractionsList = document.getElementById('attractionsList');
            attractionsList.innerHTML = '';
            destination.attractions.forEach(attraction => {
                const li = document.createElement('li');
                li.textContent = attraction;
                attractionsList.appendChild(li);
            });
        }

        function restartQuiz() {
            currentQuestion = 0;
            answers = [];
            document.getElementById('results').classList.remove('active');
            document.getElementById('lobby').classList.add('active');
        }
    </script>
</body>
</html>
